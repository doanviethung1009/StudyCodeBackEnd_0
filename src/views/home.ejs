<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Page</title>
    <!-- call external css  -->
    <link rel="stylesheet" href="/css/style.css">
</head>


<body>
    <div class="topnav">
        <!-- tag a such as method get api in BE -->
        <a class="active" href="/">Home</a>
        <a href="/create">Create</a>
        <!-- <a href="/edit">Edit</a> -->
    </div>

    <div class="w3-container">
        <!-- <%= JSON.stringify(listUsers) %> -->
        <table class="w3-table">
            <tr>
                <th>ID</th>
                <th>Email</th>
                <th>Name</th>
                <th>City</th>
                <th>Actions</th>
            </tr>
            <!-- method 1: for .length -->
            <!-- <% for (let i=0; i < listUsers.length; i++) { %>
                <tr>

                    <td>
                        <%= listUsers[i].ID %>
                    </td>
                    <td>
                        <%= listUsers[i].EMAIL %>
                    </td>
                    <td>
                        <%= listUsers[i].NAME %>
                    </td>
                    <td>
                        <%= listUsers[i].CITY %>
                    </td>
                    <td>
                        <button>edit</button>
                        <button>delete</button>
                    </td>
                </tr>
                <%} %> -->

            <!-- method 2: forEach  for mysql database user.ID, user.EMAIL, user.NAME, user.CITY -->

            <!-- method 3: forEach  for mongo database-->
            <% listUsers.forEach(function(user,index) { %>
                <tr>

                    <td>
                        <%= user._id %>
                            <!-- - <%=index%> -->
                    </td>
                    <td>
                        <%= user.email %>
                    </td>
                    <td>
                        <%= user.name %>
                    </td>
                    <td>
                        <%= user.city %>
                    </td>
                    <td>
                        <%= user.date %>
                    </td>
                    <td>
                        <a href="/edit/<%= user._id %>">edit</a>
                        <form action="/delete-user/<%=user._id %>" method="POST">
                            <button>delete</button>
                        </form>

                    </td>
                </tr>
                <% }); %>


        </table>
        <form class="truncate-table" action="/truncate" method="POST">
            <button>truncate</button>
        </form>
    </div>


    </div>

</body>

</html>